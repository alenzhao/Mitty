{
  "stdout": "", 
  "baseCommand": [
    "reads", 
    "generate"
  ], 
  "sbg:cmdPreview": "reads generate  my_reads_param.json  -v", 
  "id": "https://api.sbgenomics.com/v2/apps/kghosesbg/mitty-apps/mitty-reads-inject/4/raw/", 
  "description": "Mitty Reads generator with ability to be driven by API with injected parameter file", 
  "sbg:revision": 4, 
  "sbg:latestRevision": 4, 
  "sbg:modifiedBy": "kghosesbg", 
  "label": "mitty-reads-inject", 
  "arguments": [
    {
      "position": 100, 
      "valueFrom": "-v", 
      "separate": true
    }, 
    {
      "position": -1, 
      "valueFrom": {
        "engine": "#cwl-js-engine", 
        "class": "Expression", 
        "script": "$job.inputs.out_prefix + '_param.json'"
      }, 
      "separate": true
    }
  ], 
  "sbg:createdBy": "kghosesbg", 
  "inputs": [
    {
      "sbg:fileTypes": "fasta", 
      "inputBinding": {
        "position": 1, 
        "prefix": "--ref", 
        "sbg:cmdInclude": true, 
        "separate": true
      }, 
      "type": [
        "null", 
        "File"
      ], 
      "id": "#ref", 
      "label": "Ref"
    }, 
    {
      "id": "#db", 
      "inputBinding": {
        "position": 2, 
        "prefix": "--db", 
        "sbg:cmdInclude": true, 
        "separate": true
      }, 
      "type": [
        "null", 
        "File"
      ], 
      "description": "HDF5 file representing genome population database", 
      "label": "GenomeDB"
    }, 
    {
      "type": [
        "null", 
        "string"
      ], 
      "id": "#parameter_string", 
      "label": "Parameter json string"
    }, 
    {
      "id": "#out_prefix", 
      "inputBinding": {
        "prefix": "--out-prefix", 
        "sbg:cmdInclude": true, 
        "separate": true
      }, 
      "type": [
        "null", 
        "string"
      ], 
      "description": "Output Prefix for read files", 
      "label": "Output Prefix"
    }
  ], 
  "successCodes": [], 
  "sbg:sbgMaintained": false, 
  "sbg:modifiedOn": 1456946444, 
  "outputs": [
    {
      "outputBinding": {
        "glob": {
          "engine": "#cwl-js-engine", 
          "class": "Expression", 
          "script": "$job.inputs.out_prefix + '.fq*'"
        }
      }, 
      "label": "Perfect Reads", 
      "type": [
        "null", 
        "File"
      ], 
      "description": "Reads with no errors", 
      "id": "#perfect_fastq"
    }, 
    {
      "outputBinding": {
        "glob": {
          "engine": "#cwl-js-engine", 
          "class": "Expression", 
          "script": "$job.inputs.out_prefix + '_c.fq*'"
        }
      }, 
      "label": "Corrupt Fastq", 
      "type": [
        "null", 
        "File"
      ], 
      "description": "Reads with errors", 
      "id": "#corrupt_fastq"
    }, 
    {
      "outputBinding": {
        "glob": {
          "engine": "#cwl-js-engine", 
          "class": "Expression", 
          "script": "$job.inputs.out_prefix + '_param.json'"
        }
      }, 
      "label": "Param File", 
      "type": [
        "null", 
        "File"
      ], 
      "description": "Parameter file with contents as injected", 
      "id": "#param_file"
    }, 
    {
      "sbg:fileTypes": "bed", 
      "description": "BED file that can be used with truth VCFs, for example", 
      "label": "BED", 
      "outputBinding": {
        "glob": {
          "engine": "#cwl-js-engine", 
          "class": "Expression", 
          "script": "$job.inputs.out_prefix + '.bed'"
        }
      }, 
      "type": [
        "null", 
        "File"
      ], 
      "id": "#bed"
    }
  ], 
  "sbg:contributors": [
    "kghosesbg"
  ], 
  "sbg:project": "kghosesbg/mitty-apps", 
  "requirements": [
    {
      "requirements": [
        {
          "dockerPull": "rabix/js-engine", 
          "class": "DockerRequirement"
        }
      ], 
      "class": "ExpressionEngineRequirement", 
      "id": "#cwl-js-engine"
    }, 
    {
      "fileDef": [
        {
          "fileContent": {
            "engine": "#cwl-js-engine", 
            "class": "Expression", 
            "script": "$job.inputs.parameter_string"
          }, 
          "filename": {
            "engine": "#cwl-js-engine", 
            "class": "Expression", 
            "script": "$job.inputs.out_prefix + '_param.json'"
          }
        }
      ], 
      "class": "CreateFileRequirement"
    }
  ], 
  "temporaryFailCodes": [], 
  "class": "CommandLineTool", 
  "sbg:job": {
    "allocatedResources": {
      "mem": 8000, 
      "cpu": 1
    }, 
    "inputs": {
      "ref": {
        "secondaryFiles": [], 
        "size": 0, 
        "class": "File", 
        "path": "/path/to/ref.ext"
      }, 
      "parameter_string": "parameter_string", 
      "db": {
        "secondaryFiles": [], 
        "size": 0, 
        "class": "File", 
        "path": "/path/to/db.ext"
      }, 
      "out_prefix": "my_reads"
    }
  }, 
  "hints": [
    {
      "dockerImageId": "", 
      "dockerPull": "images.sbgenomics.com/kghosesbg/mitty:latest", 
      "class": "DockerRequirement"
    }, 
    {
      "class": "sbg:CPURequirement", 
      "value": 1
    }, 
    {
      "class": "sbg:MemRequirement", 
      "value": 8000
    }, 
    {
      "class": "sbg:AWSInstanceType", 
      "value": "cc2.8xlarge"
    }
  ], 
  "sbg:id": "kghosesbg/mitty-apps/mitty-reads-inject/4", 
  "sbg:createdOn": 1454520311, 
  "stdin": "", 
  "sbg:revisionsInfo": [
    {
      "sbg:modifiedOn": 1455375888, 
      "sbg:modifiedBy": "kghosesbg", 
      "sbg:revision": 2
    }, 
    {
      "sbg:modifiedOn": 1454520311, 
      "sbg:modifiedBy": "kghosesbg", 
      "sbg:revision": 0
    }, 
    {
      "sbg:modifiedOn": 1455374380, 
      "sbg:modifiedBy": "kghosesbg", 
      "sbg:revision": 1
    }, 
    {
      "sbg:modifiedOn": 1456868484, 
      "sbg:modifiedBy": "kghosesbg", 
      "sbg:revision": 3
    }, 
    {
      "sbg:modifiedOn": 1456946444, 
      "sbg:modifiedBy": "kghosesbg", 
      "sbg:revision": 4
    }
  ], 
  "sbg:validationErrors": []
}